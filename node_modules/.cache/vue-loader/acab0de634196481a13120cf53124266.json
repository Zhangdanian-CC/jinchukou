{"remainingRequest":"D:\\Awork\\jinchukou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Awork\\jinchukou\\src\\components\\china\\mapChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Awork\\jinchukou\\src\\components\\china\\mapChart.vue","mtime":1602813486388},{"path":"D:\\Awork\\jinchukou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Awork\\jinchukou\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Awork\\jinchukou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Awork\\jinchukou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"mapChart\",\n  props: [\"chartData\", \"mapPopData\"],\n  mounted() {\n    this.initMap(this.chartData, this.mapPopData);\n    // this.rollMap(this.chartData);\n    // this.newSize(this.val);\n\n    // console.log(this.val);\n  },\n  data() {\n    return {\n      mapIndex: 4,\n      myEcharts: undefined,\n      // rollMapInterval: undefined,\n      l: this,\n    };\n  },\n  computed: {},\n  methods: {\n    // 换算方法\n    // newSize(val, initWidth = 1920) {\n    //   //当前视口宽度\n    //   let nowClientWidth = document.documentElement.clientWidth;\n    //   return val * (nowClientWidth / initWidth);\n    // },\n\n    initMap(chartData, mapPopData) {\n      // eslint-disable-next-line no-unused-vars\n      var that = this;\n      var geoCoordMap = {\n        上海: [119.1803, 31.2891],\n        福建: [119.4543, 25.9222],\n        重庆: [108.384366, 30.439702],\n        北京: [116.4551, 40.2539],\n        辽宁: [123.1238, 42.1216],\n        河北: [114.4995, 38.1006],\n        天津: [117.4219, 39.4189],\n        山西: [112.3352, 37.9413],\n        陕西: [109.1162, 34.2004],\n        甘肃: [103.5901, 36.3043],\n        宁夏: [106.3586, 38.1775],\n        青海: [101.4038, 36.8207],\n        新疆: [87.9236, 43.5883],\n        西藏: [91.11, 29.97],\n        四川: [103.9526, 30.7617],\n        吉林: [125.8154, 44.2584],\n        山东: [117.1582, 36.8701],\n        河南: [113.4668, 34.6234],\n        江苏: [118.8062, 31.9208],\n        安徽: [117.29, 32.0581],\n        湖北: [114.3896, 30.6628],\n        浙江: [119.5313, 29.8773],\n        内蒙古: [110.3467, 41.4899],\n        江西: [116.0046, 28.6633],\n        湖南: [113.0823, 28.2568],\n        贵州: [106.6992, 26.7682],\n        云南: [102.9199, 25.4663],\n        广东: [113.12244, 23.009505],\n        广西: [108.479, 23.1152],\n        海南: [110.3893, 19.8516],\n        黑龙江: [127.9688, 45.368],\n        中国台湾: [121.4648, 25.563],\n      };\n      var colorData = [\n        {\n          name: \"北京\",\n          value: 13,\n          config: [\n            { name: \"公司部\", value: 10 },\n            { name: \"北京分行\", value: 13 },\n            { name: \"海淀分行\", value: 23 },\n          ],\n        },\n        { name: \"天津\", value: 142 },\n        { name: \"河北\", value: 82 },\n        { name: \"山西\", value: 61 },\n        { name: \"内蒙古\", value: 87 },\n        { name: \"辽宁\", value: 67 },\n        { name: \"吉林\", value: 82 },\n        { name: \"黑龙江\", value: 223 },\n        { name: \"上海\", value: 222 },\n        { name: \"江苏\", value: 92 },\n        { name: \"浙江\", value: 134 },\n        { name: \"安徽\", value: 49 },\n        {\n          name: \"福建\",\n          value: 13,\n          config: [\n            { name: \"公司部\", value: 10 },\n            { name: \"厦门分行\", value: 13 },\n            { name: \"福州分行\", value: 23 },\n            { name: \"泉州分行\", value: 23 },\n          ],\n        },\n        { name: \"江西\", value: 91 },\n        { name: \"山东\", value: 119 },\n        { name: \"河南\", value: 137 },\n        { name: \"湖北\", value: 136 },\n        { name: \"湖南\", value: 11 },\n        { name: \"重庆\", value: 91 },\n        { name: \"四川\", value: 225 },\n        { name: \"贵州\", value: 130 },\n        { name: \"云南\", value: 83 },\n        { name: \"西藏\", value: 49 },\n        { name: \"陕西\", value: 30 },\n        { name: \"甘肃\", value: 56 },\n        { name: \"青海\", value: 130 },\n        { name: \"宁夏\", value: 18 },\n        { name: \"新疆\", value: 18 },\n        { name: \"广东\", value: 283 },\n        { name: \"香港\", value: 203 },\n        { name: \"澳门\", value: 0 },\n        { name: \"广西\", value: 59 },\n        { name: \"海南\", value: 14 },\n        { name: \"中国台湾\", value: 0 },\n        { name: \"南海诸岛\", value: 16 },\n      ];\n\n      var convertData = function (data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n          var geoCoord = geoCoordMap[data[i].name];\n          if (geoCoord) {\n            res.push({\n              name: data[i].name,\n              value: geoCoord.concat(data[i].value),\n            });\n          }\n        }\n        return res;\n      };\n      this.myEcharts = this.$echarts.init(document.getElementById(\"middleMap\"));\n      this.myEcharts.setOption({\n        legend: {\n          show: false,\n        },\n        tooltip: {\n          show: true,\n        },\n        visualMap: {\n          show: true,\n          type: \"piecewise\",\n          // min: 0,\n          // max: 200,\n          left: \"18%\",\n          top: \"70%\",\n          calculable: true,\n          seriesIndex: [1],\n          pieces: [\n            { gt: 0, lte: 40, label: \"0 ～ 40亿\" }, // (10, 200]\n            { gt: 40, lte: 80, label: \"40 ～ 80亿\" }, // (200, 300]\n            { gt: 80, lte: 120, label: \"80 ～ 120亿\" }, // (310, 1000]\n            { gt: 120, lte: 200, label: \"120 ～ 200亿\" }, // (900, 1500]\n            { gt: 200, label: \"> 200亿\" }, // (1500, Infinity]\n          ],\n          inRange: {\n            color: [\"rgba(199,248,255,1)\", \"rgba(0,101,212,1)\"], // 蓝绿 1701FF\n            // color: [\"#0E3973\", \"#C3F8FF\",'#F5F5F5'] // 蓝绿\n            // color: [\n            //   \"#a15695\",//紫红\n            //   \"#4575b4\",//蓝\n            //   \"#74add1\",\n            //   \"#abd9e9\",//内蒙蓝2222\n            //   \"#e0f3f8\",\n            //   \"#ffffbf\",//黄白\n            //   \"#fee090\",\n            //   \"#fdae61\",\n            //   \"#c8f881\",//橘色\n            //   \"#d73027\",\n            //   \"#e0f3f8\",\n\n            // ],\n          },\n\n          textStyle: {\n            color: \"rgba(255, 255, 255, 0.7)\",\n            // fontSize: '0.73vw'\n            fontSize: 12,\n          },\n          itemGap: 6,\n          itemSymbol: 10,\n        },\n        geo: {\n          map: \"china\",\n          aspectScale: 0.75,\n          label: {\n            emphasis: {\n              show: false,\n            },\n          },\n          regions: [\n            {\n              name: \"南海诸岛\",\n              value: 0,\n              itemStyle: {\n                normal: {\n                  opacity: 0,\n                  label: {\n                    show: false,\n                  },\n                },\n              },\n            },\n          ],\n          itemStyle: {\n            normal: {\n              borderColor: \"rgba(147, 235, 248, 1)\",\n              borderWidth: 1,\n              areaColor: {\n                type: \"radial\",\n                x: 0.5,\n                y: 0.5,\n                r: 0.8,\n                colorStops: [\n                  {\n                    offset: 0,\n                    color: \"rgba(147, 235, 248, 0)\", // 0% 处的颜色\n                  },\n                  {\n                    offset: 1,\n                    color: \"rgba(147, 235, 248, .2)\", // 100% 处的颜色\n                  },\n                ],\n                globalCoord: false, // 缺省为 false\n              },\n              shadowColor: \"rgba(128, 217, 248, 1)\",\n              // shadowColor: 'rgba(255, 255, 255, 1)',\n              shadowOffsetX: -2,\n              shadowOffsetY: 2,\n              shadowBlur: 10,\n            },\n            emphasis: {\n              areaColor: \"#389BB7\",\n              borderWidth: 0,\n            },\n          },\n          z: 2,\n        },\n        series: [\n          {\n            name: \"散点\",\n            type: \"scatter\",\n            coordinateSystem: \"geo\",\n            data: convertData(colorData),\n            symbolSize: 0,\n            zlevel: 0,\n            label: {\n              normal: {\n                formatter: \"{b}\",\n                position: \"right\",\n                show: true,\n              },\n              emphasis: {\n                show: true,\n              },\n            },\n            itemStyle: {\n              normal: {\n                color: \"#fff\",\n              },\n            },\n          },\n          {\n            type: \"map\",\n            map: \"china\",\n            tooltip: {\n              show: true,\n              formatter: function (params) {\n                // console.log(params);\n                // console.log(params.name);\n                //       console.log(params.value);\n\n                if (\n                  params.data.name === \"中国台湾\" ||\n                  params.data.name === \"香港\" ||\n                  params.data.name === \"澳门\" ||\n                  params.data.name === \"南海诸岛\"\n                ) {\n                  return (\n                    \"<span style='color: rgba(255,255,255,1);font-family: PingFang SC;font-weight: medium;font-size: 0.8333vw;line-height: normal;letter-spacing: 0px;text-align: left;'>\" +\n                    params.data.name +\n                    \"</span>\"\n                  );\n                } else {\n                  if (params.data.config) {\n                    // console.log(params);\n                    let str = \"\";\n                    params.data.config.forEach((item) => {\n                      str +=\n                        `<span class='spantwo'>` +\n                        item.name +\n                        `</span>：` +\n                        `<span  class='spanthree'>` +\n                        item.value +\n                        ` 亿</span></br>`;\n                    });\n                    // console.log(str);\n                    return (\n                      `<span class='spanone'>` +\n                      params.data.name +\n                      `</span></br>` +\n                      str\n                    );\n\n                    // console.log(\"aaa\");\n                  } else {\n                    return (\n                      // \"<span style='color: rgba(255,255,255,1);font-family: PingFang SC;font-weight: medium;font-size: 0.8333vw;line-height: normal;letter-spacing: 0px;text-align: left;'>\" +\n                      // params.data.name +\n                      // \"</span></br>\" +\n                      // \"<span style='opacity: 0.7200000286102295;color: rgba(255,255,255,1);font-family: PingFang SC;font-weight: regular;font-size: 0.8333vw;line-height: normal;letter-spacing: 0px;text-align: left;'>贷款余额</span>：\" +\n                      // \"</br><span style='color: rgba(255,146,41,1);font-family: Microsoft YaHei;font-weight: bold;font-size: 0.9375vw;line-height: normal;letter-spacing: 0px;text-align: left;'>\" +\n                      // that.thousandFormat(params.value, 2) +\n                      // \" 亿</span>\"\n\n                      `<span class='spanone'>` +\n                      params.data.name +\n                      `</span></br>` +\n                      `<span class='spantwo'>贷款余额</span>：` +\n                      `</br><span  class='spanthree'>` +\n                      that.thousandFormat(params.value, 2) +\n                      ` 亿</span>`\n\n                      // `<span class='spanone'>` +\n                      // params.data.name +\n                      // `</span></br>` +\n                      // `<span class='spantwo'>贷款余额</span>：` +\n                      // `</br><span  class='spanthree'>` +\n                      // params.value[0] +\n                      // ` 亿</span>` +\n                      // `</br><span class='spantwo'>+{params.data.name}分部</span>：` +\n                      // `</br><span  class='spanthree'>` +\n                      // params.value[1] +\n                      // ` 亿</span>`\n                    );\n                  }\n                }\n                // return (\n                //   \"{fline|\" + \" \" + params.name + \" \" + \"重点关注\" + \"}\"\n                // );\n              },\n              distance: 20,\n              backgroundColor: \"rgba(4,15,39,0.7)\",\n              // borderColor: \"rgba(0,191,255,.9)\",\n              borderWidth: 2,\n              padding: [8, 12],\n              borderRadius: 3,\n              // lineHeight: 24,\n              lineHeight: 20,\n              verticalAlign: \"middle\",\n              color: \"#fff\",\n              z: 11,\n            },\n            // label: {\n            //   emphasis: {\n            //     show: false,\n            //     color: \"#fff\"\n            //   }\n            // },\n            top: \"9.5% \",\n            // left: \"12.5%\",\n            aspectScale: 0.75,\n            symbolSize: 0,\n            roam: false,\n            showLegendSymbol: false,\n            itemStyle: {\n              normal: {\n                borderColor: \"#2cb3dd\",\n                borderWidth: 0.8,\n                areaColor: {\n                  type: \"linear-gradient\",\n                  x: 1000,\n                  y: 600,\n                  x2: 1000,\n                  y2: 0,\n                  colorStops: [\n                    {\n                      offset: 0,\n                      color: \"rgba(14,57,115,1)\", // 0% 处的颜色\n                    },\n                    {\n                      offset: 1,\n                      color: \"rgba(14,57,115,1)\", // 50% 处的颜色\n                    },\n                  ],\n                  global: true, // 缺省为 false\n                },\n              },\n              emphasis: {\n                show: false,\n                areaColor: \"rgba(14,57,115,1)\",\n              },\n            },\n            label: {\n              normal: {\n                show: false,\n              },\n              emphasis: {\n                show: false,\n                textStyle: {\n                  color: \"#fff\",\n                },\n              },\n            },\n            // roam: false,\n            // itemStyle: {\n            //   normal: {\n            //     // areaColor: \"rgba(0, 187, 255, .3)\",\n            //     // borderColor: \"#00FFFF\",\n            //     areaColor: \"rgba(0, 187, 255, .0)\",\n            //     borderColor: \"rgba(0, 187, 255, .0)\",\n            //     borderWidth: 1\n            //   },\n            //   emphasis: {\n            //     // areaColor: \"#00FFFF\"\n            //     areaColor: \"rgba(0, 187, 255, .0)\"\n            //   }\n            // },\n            animation: false,\n            zlevel: 1,\n            data: colorData,\n          },\n          // {\n          //   type: \"effectScatter\",\n          //   coordinateSystem: \"geo\",\n          //   zlevel: 8,\n          //   data:\n          //     chartData && chartData.length > 0\n          //       ? chartData\n          //       : [\n          //           {\n          //             name: \"王**\",\n          //             age: \"28岁\",\n          //             sex: \"男\",\n          //             type: \"授信申请\",\n          //             sum: \"3000000\",\n          //             value: [116.4551, 40.2539, 48]\n          //           },\n          //           {\n          //             name: \"王**\",\n          //             age: \"25岁\",\n          //             sex: \"女\",\n          //             type: \"授信申请\",\n          //             sum: \"7000000\",\n          //             value: [103.9526, 30.7617, 48]\n          //           }\n          //         ],\n          //   // symbolSize: function(value, params) {\n          //   //   const { sum } = params.data;\n          //   //   let num = parseInt(sum)\n          //   //   var max = Math.max.apply(\n          //   //     null,\n          //   //     chartData.map(item => item.sum)\n          //   //   );\n          //   //   let size = (32 / max) * num;\n          //   //   let result = size > 5 ? size : 5;\n          //   //   return result;\n          //   // },\n          //   showEffectOn: \"render\",\n\n          //   // 涟漪的设置\n          //   // rippleEffect: {\n          //   //   color: \"#7FFFAA\",\n          //   //   scale: 4,\n          //   //   brushType: \"stroke\"\n          //   // },\n          //   itemStyle: {\n          //     normal: {\n          //       color: \"#F5B523\",\n          //       shadowBlur: 2\n          //     }\n          //   }\n          // },\n          // {\n          //   type: \"effectScatter\",\n          //   coordinateSystem: \"geo\",\n          //   zlevel: 10,\n\n          //   data:\n          //     mapPopData && mapPopData.length > 0\n          //       ? mapPopData\n          //       : [\n          //           {\n          //             name: \"北京分行\",\n          //             age: \"28岁\",\n          //             sex: \"男\",\n          //             type: \"授信申请\",\n          //             sum: \"300000\",\n          //             value: [116.4551, 40.2539, 48],\n          //           },\n          //           {\n          //             name: \"四川\",\n          //             age: \"25岁\",\n          //             sex: \"女\",\n          //             type: \"授信申请\",\n          //             sum: \"7000000\",\n          //             value: [103.9526, 30.7617, 48],\n          //           },\n          //         ],\n          //   symbolSize: 1,\n          //   // showEffectOn: \"render\",\n\n          //   // 涟漪的设置\n          //   // rippleEffect: {\n          //   //   color: \"#7FFFAA\",\n          //   //   scale: 4,\n          //   //   brushType: \"stroke\"\n          //   // },\n\n          //   // 标签\n          //   label: {\n          //     normal: {\n          //       show: false,\n          //       formatter: function (params) {\n          //         // console.log(params);\n          //         return (\n          //           params.data.name +\n          //           \"\\n\\n\" +\n          //           \"{fline|\" +\n          //           \"交易金额：\" +\n          //           \"}\" +\n          //           \"{fnum|\" +\n          //           that.thousandFormat(params.data.sum, 2) +\n          //           \"}\"\n          //         );\n          //         // return (\n          //         //   \"{fline|\" + \" \" + params.data.name + \" \" + \"重点关注\" + \"}\"\n          //         // );\n          //       },\n          //       position: [0, -90],\n          //       distance: 40,\n          //       backgroundColor: {\n          //         image: require(\"@/assets/images/material/exports/group-9.png\"),\n          //       },\n          //       // borderColor: \"rgba(0,191,255,.9)\",\n          //       borderWidth: 2,\n          //       padding: [32, 48],\n          //       borderRadius: 3,\n          //       lineHeight: 24,\n          //       verticalAlign: \"middle\",\n          //       color: \"#fff\",\n          //       z: 11,\n          //       textStyle: {\n          //         fontSize: 20,\n          //       },\n          //       rich: {\n          //         fnum: {\n          //           fontSize: 20,\n          //           color: \"#FF9029\",\n          //         },\n          //         fline: {\n          //           fontSize: 20,\n          //           color: \"rgba(255, 255, 255, .6)\",\n          //         },\n          //       },\n          //     },\n          //   },\n          //   itemStyle: {\n          //     normal: {\n          //       color: \"#F5B523\",\n          //       shadowBlur: 2,\n          //     },\n          //   },\n          // },\n          {\n            type: \"lines\",\n            zlevel: 11,\n            effect: {\n              show: true,\n              period: 5,\n              color: \"rgba(127,255,170, 1)\",\n            },\n            lineStyle: {\n              normal: {\n                color: new this.$echarts.graphic.LinearGradient(\n                  0,\n                  0,\n                  0,\n                  1,\n                  [\n                    {\n                      offset: 0,\n                      color: \"rgba(127,255,170, 1)\",\n                    },\n                    {\n                      offset: 1,\n                      color: \"rgba(127,255,170, 0)\",\n                    },\n                  ],\n                  false\n                ),\n                width: 2,\n                opacity: 0.5,\n                curveness: 0,\n              },\n            },\n            // data: chartData\n            //   ? chartData.map(item => {\n            //       return {\n            //         fromName: 1,\n            //         toName: 1,\n            //         coords: [\n            //           [Number(item.value[0]), Number(item.value[1])],\n            //           [Number(item.value[0]), Number(item.value[1]) + 3]\n            //         ]\n            //       };\n            //     })\n            //   : []\n            // data: Object.keys(geoCoordMap).map(item => {\n            //   return {\n            //     fromName: 1,\n            //     toName: 1,\n            //     coords: [\n            //       geoCoordMap[item],\n            //       [geoCoordMap[item][0], geoCoordMap[item][1] + 3]\n            //     ]\n            //   };\n            // })\n            // data: [\n            //   {\n            //     fromName: 1,\n            //     toName: 1,\n            //     coords: [\n            //       [116.24, 39.55],\n            //       [116.24, 42.55]\n            //     ]\n            //   }\n            // ]\n          },\n        ],\n      });\n      //根据窗口的大小变动图表 \n      window.onresize = function () {\n        myEcharts.resize();\n        //myChart1.resize();    //若有多个图表变动，可多写\n      };\n    },\n    formattedNumber(num) {\n      num = (num || 0).toString();\n      var result = \"\";\n      while (num.length > 3) {\n        result = \",\" + num.slice(-3) + result;\n        num = num.slice(0, num.length - 3);\n      }\n      if (num) {\n        result = num + result;\n      }\n      return result;\n    },\n\n    // 格式化千分位\n    thousandFormat(value, fixed) {\n      fixed = fixed !== undefined ? fixed : 2;\n      if (value === null || value === undefined || isNaN(parseFloat(value))) {\n        return;\n      }\n      // 将数字进行千分位格式化\n      function toThousands(num) {\n        num = (num || 0).toString();\n        var parts = num.split(\".\");\n        var bigZeroPart = parts[0];\n        var result = \"\";\n        while (bigZeroPart.length > 3) {\n          result = \",\" + bigZeroPart.slice(-3) + result;\n          bigZeroPart = bigZeroPart.slice(0, bigZeroPart.length - 3);\n        }\n        if (bigZeroPart) {\n          result = bigZeroPart + result;\n        }\n        if (parts.length > 1) {\n          result += \".\" + parts[1].toString();\n        }\n        return result;\n      }\n\n      value = parseFloat(value).toFixed(fixed);\n      value = toThousands(value);\n      return value;\n    },\n    // rollMap() {\n    //   var _that = this;\n    //   // if (mapInterval) clearInterval(mapInterval);\n    //   this.rollMapInterval = setInterval(\n    //     () => {\n    //       if (_that.mapIndex > this.chartData.length - 1) {\n    //         _that.mapIndex = 0;\n    //       }\n    //       _that.initMap(\n    //         _that.chartData.slice(_that.mapIndex, _that.mapIndex + 1)\n    //       );\n    //       this.$nextTick(() => {\n    //         _that.mapIndex += 2;\n    //       });\n    //     },\n    //     5000,\n    //     _that\n    //   );\n    // }\n  },\n  beforeDestroy() {\n    // clearInterval(this.rollMapInterval);\n  },\n  components: {},\n  watch: {\n    chartData: function (newVal) {\n      this.initMap(newVal, this.mapPopData);\n    },\n    mapPopData: function (newVal) {\n      this.initMap(this.chartData, newVal);\n    },\n  },\n};\n",{"version":3,"sources":["mapChart.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mapChart.vue","sourceRoot":"src/components/china","sourcesContent":["<template>\n  <div class=\"map-charts\">\n    <!-- p2 -->\n    <div id=\"middleMap\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"mapChart\",\n  props: [\"chartData\", \"mapPopData\"],\n  mounted() {\n    this.initMap(this.chartData, this.mapPopData);\n    // this.rollMap(this.chartData);\n    // this.newSize(this.val);\n\n    // console.log(this.val);\n  },\n  data() {\n    return {\n      mapIndex: 4,\n      myEcharts: undefined,\n      // rollMapInterval: undefined,\n      l: this,\n    };\n  },\n  computed: {},\n  methods: {\n    // 换算方法\n    // newSize(val, initWidth = 1920) {\n    //   //当前视口宽度\n    //   let nowClientWidth = document.documentElement.clientWidth;\n    //   return val * (nowClientWidth / initWidth);\n    // },\n\n    initMap(chartData, mapPopData) {\n      // eslint-disable-next-line no-unused-vars\n      var that = this;\n      var geoCoordMap = {\n        上海: [119.1803, 31.2891],\n        福建: [119.4543, 25.9222],\n        重庆: [108.384366, 30.439702],\n        北京: [116.4551, 40.2539],\n        辽宁: [123.1238, 42.1216],\n        河北: [114.4995, 38.1006],\n        天津: [117.4219, 39.4189],\n        山西: [112.3352, 37.9413],\n        陕西: [109.1162, 34.2004],\n        甘肃: [103.5901, 36.3043],\n        宁夏: [106.3586, 38.1775],\n        青海: [101.4038, 36.8207],\n        新疆: [87.9236, 43.5883],\n        西藏: [91.11, 29.97],\n        四川: [103.9526, 30.7617],\n        吉林: [125.8154, 44.2584],\n        山东: [117.1582, 36.8701],\n        河南: [113.4668, 34.6234],\n        江苏: [118.8062, 31.9208],\n        安徽: [117.29, 32.0581],\n        湖北: [114.3896, 30.6628],\n        浙江: [119.5313, 29.8773],\n        内蒙古: [110.3467, 41.4899],\n        江西: [116.0046, 28.6633],\n        湖南: [113.0823, 28.2568],\n        贵州: [106.6992, 26.7682],\n        云南: [102.9199, 25.4663],\n        广东: [113.12244, 23.009505],\n        广西: [108.479, 23.1152],\n        海南: [110.3893, 19.8516],\n        黑龙江: [127.9688, 45.368],\n        中国台湾: [121.4648, 25.563],\n      };\n      var colorData = [\n        {\n          name: \"北京\",\n          value: 13,\n          config: [\n            { name: \"公司部\", value: 10 },\n            { name: \"北京分行\", value: 13 },\n            { name: \"海淀分行\", value: 23 },\n          ],\n        },\n        { name: \"天津\", value: 142 },\n        { name: \"河北\", value: 82 },\n        { name: \"山西\", value: 61 },\n        { name: \"内蒙古\", value: 87 },\n        { name: \"辽宁\", value: 67 },\n        { name: \"吉林\", value: 82 },\n        { name: \"黑龙江\", value: 223 },\n        { name: \"上海\", value: 222 },\n        { name: \"江苏\", value: 92 },\n        { name: \"浙江\", value: 134 },\n        { name: \"安徽\", value: 49 },\n        {\n          name: \"福建\",\n          value: 13,\n          config: [\n            { name: \"公司部\", value: 10 },\n            { name: \"厦门分行\", value: 13 },\n            { name: \"福州分行\", value: 23 },\n            { name: \"泉州分行\", value: 23 },\n          ],\n        },\n        { name: \"江西\", value: 91 },\n        { name: \"山东\", value: 119 },\n        { name: \"河南\", value: 137 },\n        { name: \"湖北\", value: 136 },\n        { name: \"湖南\", value: 11 },\n        { name: \"重庆\", value: 91 },\n        { name: \"四川\", value: 225 },\n        { name: \"贵州\", value: 130 },\n        { name: \"云南\", value: 83 },\n        { name: \"西藏\", value: 49 },\n        { name: \"陕西\", value: 30 },\n        { name: \"甘肃\", value: 56 },\n        { name: \"青海\", value: 130 },\n        { name: \"宁夏\", value: 18 },\n        { name: \"新疆\", value: 18 },\n        { name: \"广东\", value: 283 },\n        { name: \"香港\", value: 203 },\n        { name: \"澳门\", value: 0 },\n        { name: \"广西\", value: 59 },\n        { name: \"海南\", value: 14 },\n        { name: \"中国台湾\", value: 0 },\n        { name: \"南海诸岛\", value: 16 },\n      ];\n\n      var convertData = function (data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n          var geoCoord = geoCoordMap[data[i].name];\n          if (geoCoord) {\n            res.push({\n              name: data[i].name,\n              value: geoCoord.concat(data[i].value),\n            });\n          }\n        }\n        return res;\n      };\n      this.myEcharts = this.$echarts.init(document.getElementById(\"middleMap\"));\n      this.myEcharts.setOption({\n        legend: {\n          show: false,\n        },\n        tooltip: {\n          show: true,\n        },\n        visualMap: {\n          show: true,\n          type: \"piecewise\",\n          // min: 0,\n          // max: 200,\n          left: \"18%\",\n          top: \"70%\",\n          calculable: true,\n          seriesIndex: [1],\n          pieces: [\n            { gt: 0, lte: 40, label: \"0 ～ 40亿\" }, // (10, 200]\n            { gt: 40, lte: 80, label: \"40 ～ 80亿\" }, // (200, 300]\n            { gt: 80, lte: 120, label: \"80 ～ 120亿\" }, // (310, 1000]\n            { gt: 120, lte: 200, label: \"120 ～ 200亿\" }, // (900, 1500]\n            { gt: 200, label: \"> 200亿\" }, // (1500, Infinity]\n          ],\n          inRange: {\n            color: [\"rgba(199,248,255,1)\", \"rgba(0,101,212,1)\"], // 蓝绿 1701FF\n            // color: [\"#0E3973\", \"#C3F8FF\",'#F5F5F5'] // 蓝绿\n            // color: [\n            //   \"#a15695\",//紫红\n            //   \"#4575b4\",//蓝\n            //   \"#74add1\",\n            //   \"#abd9e9\",//内蒙蓝2222\n            //   \"#e0f3f8\",\n            //   \"#ffffbf\",//黄白\n            //   \"#fee090\",\n            //   \"#fdae61\",\n            //   \"#c8f881\",//橘色\n            //   \"#d73027\",\n            //   \"#e0f3f8\",\n\n            // ],\n          },\n\n          textStyle: {\n            color: \"rgba(255, 255, 255, 0.7)\",\n            // fontSize: '0.73vw'\n            fontSize: 12,\n          },\n          itemGap: 6,\n          itemSymbol: 10,\n        },\n        geo: {\n          map: \"china\",\n          aspectScale: 0.75,\n          label: {\n            emphasis: {\n              show: false,\n            },\n          },\n          regions: [\n            {\n              name: \"南海诸岛\",\n              value: 0,\n              itemStyle: {\n                normal: {\n                  opacity: 0,\n                  label: {\n                    show: false,\n                  },\n                },\n              },\n            },\n          ],\n          itemStyle: {\n            normal: {\n              borderColor: \"rgba(147, 235, 248, 1)\",\n              borderWidth: 1,\n              areaColor: {\n                type: \"radial\",\n                x: 0.5,\n                y: 0.5,\n                r: 0.8,\n                colorStops: [\n                  {\n                    offset: 0,\n                    color: \"rgba(147, 235, 248, 0)\", // 0% 处的颜色\n                  },\n                  {\n                    offset: 1,\n                    color: \"rgba(147, 235, 248, .2)\", // 100% 处的颜色\n                  },\n                ],\n                globalCoord: false, // 缺省为 false\n              },\n              shadowColor: \"rgba(128, 217, 248, 1)\",\n              // shadowColor: 'rgba(255, 255, 255, 1)',\n              shadowOffsetX: -2,\n              shadowOffsetY: 2,\n              shadowBlur: 10,\n            },\n            emphasis: {\n              areaColor: \"#389BB7\",\n              borderWidth: 0,\n            },\n          },\n          z: 2,\n        },\n        series: [\n          {\n            name: \"散点\",\n            type: \"scatter\",\n            coordinateSystem: \"geo\",\n            data: convertData(colorData),\n            symbolSize: 0,\n            zlevel: 0,\n            label: {\n              normal: {\n                formatter: \"{b}\",\n                position: \"right\",\n                show: true,\n              },\n              emphasis: {\n                show: true,\n              },\n            },\n            itemStyle: {\n              normal: {\n                color: \"#fff\",\n              },\n            },\n          },\n          {\n            type: \"map\",\n            map: \"china\",\n            tooltip: {\n              show: true,\n              formatter: function (params) {\n                // console.log(params);\n                // console.log(params.name);\n                //       console.log(params.value);\n\n                if (\n                  params.data.name === \"中国台湾\" ||\n                  params.data.name === \"香港\" ||\n                  params.data.name === \"澳门\" ||\n                  params.data.name === \"南海诸岛\"\n                ) {\n                  return (\n                    \"<span style='color: rgba(255,255,255,1);font-family: PingFang SC;font-weight: medium;font-size: 0.8333vw;line-height: normal;letter-spacing: 0px;text-align: left;'>\" +\n                    params.data.name +\n                    \"</span>\"\n                  );\n                } else {\n                  if (params.data.config) {\n                    // console.log(params);\n                    let str = \"\";\n                    params.data.config.forEach((item) => {\n                      str +=\n                        `<span class='spantwo'>` +\n                        item.name +\n                        `</span>：` +\n                        `<span  class='spanthree'>` +\n                        item.value +\n                        ` 亿</span></br>`;\n                    });\n                    // console.log(str);\n                    return (\n                      `<span class='spanone'>` +\n                      params.data.name +\n                      `</span></br>` +\n                      str\n                    );\n\n                    // console.log(\"aaa\");\n                  } else {\n                    return (\n                      // \"<span style='color: rgba(255,255,255,1);font-family: PingFang SC;font-weight: medium;font-size: 0.8333vw;line-height: normal;letter-spacing: 0px;text-align: left;'>\" +\n                      // params.data.name +\n                      // \"</span></br>\" +\n                      // \"<span style='opacity: 0.7200000286102295;color: rgba(255,255,255,1);font-family: PingFang SC;font-weight: regular;font-size: 0.8333vw;line-height: normal;letter-spacing: 0px;text-align: left;'>贷款余额</span>：\" +\n                      // \"</br><span style='color: rgba(255,146,41,1);font-family: Microsoft YaHei;font-weight: bold;font-size: 0.9375vw;line-height: normal;letter-spacing: 0px;text-align: left;'>\" +\n                      // that.thousandFormat(params.value, 2) +\n                      // \" 亿</span>\"\n\n                      `<span class='spanone'>` +\n                      params.data.name +\n                      `</span></br>` +\n                      `<span class='spantwo'>贷款余额</span>：` +\n                      `</br><span  class='spanthree'>` +\n                      that.thousandFormat(params.value, 2) +\n                      ` 亿</span>`\n\n                      // `<span class='spanone'>` +\n                      // params.data.name +\n                      // `</span></br>` +\n                      // `<span class='spantwo'>贷款余额</span>：` +\n                      // `</br><span  class='spanthree'>` +\n                      // params.value[0] +\n                      // ` 亿</span>` +\n                      // `</br><span class='spantwo'>+{params.data.name}分部</span>：` +\n                      // `</br><span  class='spanthree'>` +\n                      // params.value[1] +\n                      // ` 亿</span>`\n                    );\n                  }\n                }\n                // return (\n                //   \"{fline|\" + \" \" + params.name + \" \" + \"重点关注\" + \"}\"\n                // );\n              },\n              distance: 20,\n              backgroundColor: \"rgba(4,15,39,0.7)\",\n              // borderColor: \"rgba(0,191,255,.9)\",\n              borderWidth: 2,\n              padding: [8, 12],\n              borderRadius: 3,\n              // lineHeight: 24,\n              lineHeight: 20,\n              verticalAlign: \"middle\",\n              color: \"#fff\",\n              z: 11,\n            },\n            // label: {\n            //   emphasis: {\n            //     show: false,\n            //     color: \"#fff\"\n            //   }\n            // },\n            top: \"9.5% \",\n            // left: \"12.5%\",\n            aspectScale: 0.75,\n            symbolSize: 0,\n            roam: false,\n            showLegendSymbol: false,\n            itemStyle: {\n              normal: {\n                borderColor: \"#2cb3dd\",\n                borderWidth: 0.8,\n                areaColor: {\n                  type: \"linear-gradient\",\n                  x: 1000,\n                  y: 600,\n                  x2: 1000,\n                  y2: 0,\n                  colorStops: [\n                    {\n                      offset: 0,\n                      color: \"rgba(14,57,115,1)\", // 0% 处的颜色\n                    },\n                    {\n                      offset: 1,\n                      color: \"rgba(14,57,115,1)\", // 50% 处的颜色\n                    },\n                  ],\n                  global: true, // 缺省为 false\n                },\n              },\n              emphasis: {\n                show: false,\n                areaColor: \"rgba(14,57,115,1)\",\n              },\n            },\n            label: {\n              normal: {\n                show: false,\n              },\n              emphasis: {\n                show: false,\n                textStyle: {\n                  color: \"#fff\",\n                },\n              },\n            },\n            // roam: false,\n            // itemStyle: {\n            //   normal: {\n            //     // areaColor: \"rgba(0, 187, 255, .3)\",\n            //     // borderColor: \"#00FFFF\",\n            //     areaColor: \"rgba(0, 187, 255, .0)\",\n            //     borderColor: \"rgba(0, 187, 255, .0)\",\n            //     borderWidth: 1\n            //   },\n            //   emphasis: {\n            //     // areaColor: \"#00FFFF\"\n            //     areaColor: \"rgba(0, 187, 255, .0)\"\n            //   }\n            // },\n            animation: false,\n            zlevel: 1,\n            data: colorData,\n          },\n          // {\n          //   type: \"effectScatter\",\n          //   coordinateSystem: \"geo\",\n          //   zlevel: 8,\n          //   data:\n          //     chartData && chartData.length > 0\n          //       ? chartData\n          //       : [\n          //           {\n          //             name: \"王**\",\n          //             age: \"28岁\",\n          //             sex: \"男\",\n          //             type: \"授信申请\",\n          //             sum: \"3000000\",\n          //             value: [116.4551, 40.2539, 48]\n          //           },\n          //           {\n          //             name: \"王**\",\n          //             age: \"25岁\",\n          //             sex: \"女\",\n          //             type: \"授信申请\",\n          //             sum: \"7000000\",\n          //             value: [103.9526, 30.7617, 48]\n          //           }\n          //         ],\n          //   // symbolSize: function(value, params) {\n          //   //   const { sum } = params.data;\n          //   //   let num = parseInt(sum)\n          //   //   var max = Math.max.apply(\n          //   //     null,\n          //   //     chartData.map(item => item.sum)\n          //   //   );\n          //   //   let size = (32 / max) * num;\n          //   //   let result = size > 5 ? size : 5;\n          //   //   return result;\n          //   // },\n          //   showEffectOn: \"render\",\n\n          //   // 涟漪的设置\n          //   // rippleEffect: {\n          //   //   color: \"#7FFFAA\",\n          //   //   scale: 4,\n          //   //   brushType: \"stroke\"\n          //   // },\n          //   itemStyle: {\n          //     normal: {\n          //       color: \"#F5B523\",\n          //       shadowBlur: 2\n          //     }\n          //   }\n          // },\n          // {\n          //   type: \"effectScatter\",\n          //   coordinateSystem: \"geo\",\n          //   zlevel: 10,\n\n          //   data:\n          //     mapPopData && mapPopData.length > 0\n          //       ? mapPopData\n          //       : [\n          //           {\n          //             name: \"北京分行\",\n          //             age: \"28岁\",\n          //             sex: \"男\",\n          //             type: \"授信申请\",\n          //             sum: \"300000\",\n          //             value: [116.4551, 40.2539, 48],\n          //           },\n          //           {\n          //             name: \"四川\",\n          //             age: \"25岁\",\n          //             sex: \"女\",\n          //             type: \"授信申请\",\n          //             sum: \"7000000\",\n          //             value: [103.9526, 30.7617, 48],\n          //           },\n          //         ],\n          //   symbolSize: 1,\n          //   // showEffectOn: \"render\",\n\n          //   // 涟漪的设置\n          //   // rippleEffect: {\n          //   //   color: \"#7FFFAA\",\n          //   //   scale: 4,\n          //   //   brushType: \"stroke\"\n          //   // },\n\n          //   // 标签\n          //   label: {\n          //     normal: {\n          //       show: false,\n          //       formatter: function (params) {\n          //         // console.log(params);\n          //         return (\n          //           params.data.name +\n          //           \"\\n\\n\" +\n          //           \"{fline|\" +\n          //           \"交易金额：\" +\n          //           \"}\" +\n          //           \"{fnum|\" +\n          //           that.thousandFormat(params.data.sum, 2) +\n          //           \"}\"\n          //         );\n          //         // return (\n          //         //   \"{fline|\" + \" \" + params.data.name + \" \" + \"重点关注\" + \"}\"\n          //         // );\n          //       },\n          //       position: [0, -90],\n          //       distance: 40,\n          //       backgroundColor: {\n          //         image: require(\"@/assets/images/material/exports/group-9.png\"),\n          //       },\n          //       // borderColor: \"rgba(0,191,255,.9)\",\n          //       borderWidth: 2,\n          //       padding: [32, 48],\n          //       borderRadius: 3,\n          //       lineHeight: 24,\n          //       verticalAlign: \"middle\",\n          //       color: \"#fff\",\n          //       z: 11,\n          //       textStyle: {\n          //         fontSize: 20,\n          //       },\n          //       rich: {\n          //         fnum: {\n          //           fontSize: 20,\n          //           color: \"#FF9029\",\n          //         },\n          //         fline: {\n          //           fontSize: 20,\n          //           color: \"rgba(255, 255, 255, .6)\",\n          //         },\n          //       },\n          //     },\n          //   },\n          //   itemStyle: {\n          //     normal: {\n          //       color: \"#F5B523\",\n          //       shadowBlur: 2,\n          //     },\n          //   },\n          // },\n          {\n            type: \"lines\",\n            zlevel: 11,\n            effect: {\n              show: true,\n              period: 5,\n              color: \"rgba(127,255,170, 1)\",\n            },\n            lineStyle: {\n              normal: {\n                color: new this.$echarts.graphic.LinearGradient(\n                  0,\n                  0,\n                  0,\n                  1,\n                  [\n                    {\n                      offset: 0,\n                      color: \"rgba(127,255,170, 1)\",\n                    },\n                    {\n                      offset: 1,\n                      color: \"rgba(127,255,170, 0)\",\n                    },\n                  ],\n                  false\n                ),\n                width: 2,\n                opacity: 0.5,\n                curveness: 0,\n              },\n            },\n            // data: chartData\n            //   ? chartData.map(item => {\n            //       return {\n            //         fromName: 1,\n            //         toName: 1,\n            //         coords: [\n            //           [Number(item.value[0]), Number(item.value[1])],\n            //           [Number(item.value[0]), Number(item.value[1]) + 3]\n            //         ]\n            //       };\n            //     })\n            //   : []\n            // data: Object.keys(geoCoordMap).map(item => {\n            //   return {\n            //     fromName: 1,\n            //     toName: 1,\n            //     coords: [\n            //       geoCoordMap[item],\n            //       [geoCoordMap[item][0], geoCoordMap[item][1] + 3]\n            //     ]\n            //   };\n            // })\n            // data: [\n            //   {\n            //     fromName: 1,\n            //     toName: 1,\n            //     coords: [\n            //       [116.24, 39.55],\n            //       [116.24, 42.55]\n            //     ]\n            //   }\n            // ]\n          },\n        ],\n      });\n      //根据窗口的大小变动图表 \n      window.onresize = function () {\n        myEcharts.resize();\n        //myChart1.resize();    //若有多个图表变动，可多写\n      };\n    },\n    formattedNumber(num) {\n      num = (num || 0).toString();\n      var result = \"\";\n      while (num.length > 3) {\n        result = \",\" + num.slice(-3) + result;\n        num = num.slice(0, num.length - 3);\n      }\n      if (num) {\n        result = num + result;\n      }\n      return result;\n    },\n\n    // 格式化千分位\n    thousandFormat(value, fixed) {\n      fixed = fixed !== undefined ? fixed : 2;\n      if (value === null || value === undefined || isNaN(parseFloat(value))) {\n        return;\n      }\n      // 将数字进行千分位格式化\n      function toThousands(num) {\n        num = (num || 0).toString();\n        var parts = num.split(\".\");\n        var bigZeroPart = parts[0];\n        var result = \"\";\n        while (bigZeroPart.length > 3) {\n          result = \",\" + bigZeroPart.slice(-3) + result;\n          bigZeroPart = bigZeroPart.slice(0, bigZeroPart.length - 3);\n        }\n        if (bigZeroPart) {\n          result = bigZeroPart + result;\n        }\n        if (parts.length > 1) {\n          result += \".\" + parts[1].toString();\n        }\n        return result;\n      }\n\n      value = parseFloat(value).toFixed(fixed);\n      value = toThousands(value);\n      return value;\n    },\n    // rollMap() {\n    //   var _that = this;\n    //   // if (mapInterval) clearInterval(mapInterval);\n    //   this.rollMapInterval = setInterval(\n    //     () => {\n    //       if (_that.mapIndex > this.chartData.length - 1) {\n    //         _that.mapIndex = 0;\n    //       }\n    //       _that.initMap(\n    //         _that.chartData.slice(_that.mapIndex, _that.mapIndex + 1)\n    //       );\n    //       this.$nextTick(() => {\n    //         _that.mapIndex += 2;\n    //       });\n    //     },\n    //     5000,\n    //     _that\n    //   );\n    // }\n  },\n  beforeDestroy() {\n    // clearInterval(this.rollMapInterval);\n  },\n  components: {},\n  watch: {\n    chartData: function (newVal) {\n      this.initMap(newVal, this.mapPopData);\n    },\n    mapPopData: function (newVal) {\n      this.initMap(this.chartData, newVal);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.map-charts,\n#middleMap {\n  height: 100%;\n  width: 100%;\n}\n.spanone {\n  color: rgba(255, 255, 255, 1);\n  font-family: PingFang SC;\n  font-weight: medium;\n  font-size: 0.8333vw;\n  line-height: normal;\n  letter-spacing: 0px;\n  text-align: left;\n}\n.spantwo {\n  opacity: 0.7200000286102295;\n  color: rgba(255, 255, 255, 1);\n  font-family: PingFang SC;\n  font-weight: regular;\n  font-size: 0.8333vw;\n  line-height: normal;\n  letter-spacing: 0px;\n  text-align: left;\n}\n.spanthree {\n  color: rgba(255, 146, 41, 1);\n  font-family: Microsoft YaHei;\n  font-weight: bold;\n  font-size: 0.9375vw;\n  line-height: normal;\n  letter-spacing: 0px;\n  text-align: left;\n}\n.spanfour {\n  width: 10vw;\n  height: 10vw;\n  color: rgba(255, 255, 255, 1);\n  font-family: PingFang SC;\n  font-weight: medium;\n  font-size: 0.8333vw;\n  line-height: normal;\n  letter-spacing: 0px;\n  text-align: left;\n}\n.spanfive {\n  opacity: 0.7200000286102295;\n  color: rgba(255, 255, 255, 1);\n  font-family: PingFang SC;\n  font-weight: regular;\n  font-size: 0.8333vw;\n  line-height: normal;\n  letter-spacing: 0px;\n  text-align: left;\n}\n.spansix {\n  color: rgba(255, 146, 41, 1);\n  font-family: Microsoft YaHei;\n  font-weight: bold;\n  font-size: 0.9375vw;\n  line-height: normal;\n  letter-spacing: 0px;\n  text-align: left;\n}\n</style>\n"]}]}